/**
*	Avalanche Slider
*	Version: 1.0.1
*	URL: @ThemeMountain
*	Description: Content Slider
*	Requires: jQuery 1.10+
*	Author: ThemeMountain
*	Copyright: Copyright 2013 ThemeMountain
*	License: Attribution-NonCommercial 3.0 (http://creativecommons.org/licenses/by-nc/3.0/)
*/
!function(t,a,e,i){"use strict";function n(a){a.find(".tms-caption").each(function(){var a=t(this),e=(a.data("animate-in")+"").split(";");t.each(e,function(t,e){e=e.split(":");var i=e[0],n=e[1];"opacity"===i&&a.data("o",n),"scale"===i&&a.data("s",n),"easing"===i&&a.data("e",n),"transX"===i&&a.data("tx",parseFloat(n)),"transY"===i&&a.data("ty",parseFloat(n)),"transZ"===i&&a.data("tz",parseFloat(n)),"rotateX"===i&&a.data("rx",parseFloat(n)),"rotateY"===i&&a.data("ry",parseFloat(n)),"rotateZ"===i&&a.data("rz",parseFloat(n)),"duration"===i&&a.data("du",parseFloat(n)),"delay"===i&&a.data("de",parseFloat(n))}),a.data("w",parseFloat(a.css("width"))),a.data("h",parseFloat(a.css("height"))),a.data("fs",parseFloat(a.css("font-size"))),a.data("lh",parseFloat(a.css("line-height"))),a.data("pt",parseFloat(a.css("padding-top"))),a.data("pr",parseFloat(a.css("padding-right"))),a.data("pb",parseFloat(a.css("padding-bottom"))),a.data("pl",parseFloat(a.css("padding-left"))),a.data("mt",parseFloat(a.css("margin-top"))),a.data("mr",parseFloat(a.css("margin-right"))),a.data("mb",parseFloat(a.css("margin-bottom"))),a.data("ml",parseFloat(a.css("margin-left"))),a.data("bt",parseFloat(a.css("border-top-width"))),a.data("br",parseFloat(a.css("border-right-width"))),a.data("bb",parseFloat(a.css("border-bottom-width"))),a.data("bl",parseFloat(a.css("border-left-width")))})}function s(a,i,n){var s=a.find(".tms-slide"),o=0;s.each(function(){{var s=t(this),d=s.find("img").length,l=s.find("iframe, video").length;s.children(".tms-caption").length}m(s,i);var c=t('<div class="tm-loader"><div id="circle" /></div>');if(d>0&&(i.lazyLoad?c.appendTo(s):a.find(c).length||c.appendTo(a)),l){H&&s.is("[data-video-bkg]")&&s.children("video").css({display:"none"});var u=s.find("iframe, video");x(u,i),f(s,i),p(a,i)}d?s.find("img").each(function(a,l){l=t(this).data("src");var c=l.substr(l.lastIndexOf("."));(e.isRetinaDevice()&&i.retinaSupport||e.isRetinaDevice()&&t(this).is("[data-retina]"))&&(!H&&!i.retinaSupportMobile||H&&i.retinaSupportMobile)&&(l.match(/\.(svg)/i)||(l=t(this).data("src").replace(c,i.retinaSuffix+c))),t(this).css({opacity:0}).attr("src",l).one("load",function(){t(this).data("loaded",!0).css({opacity:1}),a++,a===d&&(o++,r(s,o,i,n))}).one("error",function(){console.log("Error src:"+l)})}):(o++,f(s,i),p(a,i),r(s,o,i,n))})}function r(t,a,e,i){var n=t.closest(".tm-slider-container"),s=n.find(".tms-slides"),r=n.find("li.active"),o=null,d=null;if(t.find(".no-transition").css({visibility:"visible"}),0===n.height()&&t.hasClass("active")){r.children("img").css({maxHeight:"none"});var l=r.children("img").height();n.data("refH",l),n.css({height:l+"px"}),r.children("img").css({maxHeight:"100%"})}if(f(t,e),p(n,e),e.carousel&&!e.lazyLoad&&(s.children().css({opacity:1}),s.css({opacity:0})),n.find("iframe, video").css({opacity:1}),a===s.children().length&&e.onLoadEnd&&e.onLoadEnd(),e.lazyLoad||a!==s.children().length?e.lazyLoad&&1===a&&(n.data("loaded",!0),e.autoAdvance&&i.initSlideshow()):(n.data("loaded",!0),e.autoAdvance&&i.initSlideshow()),e.lazyLoad){if(t.find(".tm-loader").length&&t.find(".tm-loader").remove(),(t.is(r)||e.carouselVisible>1)&&t.find(".tms-caption").show(),!t.hasClass("active"))return!1;F?(r.css({transition:"none",opacity:0}),clearTimeout(d),d=setTimeout(function(){r.css({transitionProperty:"opacity",transitionDuration:"700ms",opacity:1})},50)):t.animate({opacity:1}),clearTimeout(o),o=setTimeout(function(){c(r,e)},300),e.carouselScaleHeight&&n.css("height","auto")}else a===s.children().length&&(n.find(".tm-loader").length&&n.find(".tm-loader").remove(),r.find(".tms-caption").show(),e.carouselVisible>1&&n.find(".tms-caption").show(),F?e.carousel?s.css({transitionProperty:"opacity",transitionDuration:"700ms",opacity:1}):r.css({transitionProperty:"opacity",transitionDuration:"700ms",opacity:1}):e.carousel?s.animate({opacity:1}):r.animate({opacity:1}),clearTimeout(o),o=setTimeout(function(){c(r,e)},300),n.find(".tms-arrow-nav, .tms-pagination").css({display:"block"}),e.carouselScaleHeight&&n.css("height","auto"))}var o=function(r,o){var c=t.extend({},t.fn.avalancheSlider.tmsOpts,o),v=t(r),g=this,b=c.fulscreen?t(e).width():c.fullwidth?c.scaleUnder:parseFloat(v.css("width")),y=c.fulscreen?t(e).height():parseFloat(v.css("height"));v.data("transitioning",!1).data("setup",!1).data("loaded",!1).data("refW",b).data("refH",y).data("carousel-height",y),n(v);var w=v.find("li:first-child").addClass("active");c.lazyLoad||w.css({opacity:0}),f(w,c),p(v,c);var x=v.find(".tms-slides"),S=[];if(x.children(".tms-slide").each(function(a){a++,t(this).attr("id","tms-slide-"+a),S.push(t(this).attr("id")),c.carousel||t(this).not(".active").css(F?{transition:"none",transform:"translate3d( 100%, 0, 0)"}:{left:"100%"}),(c.forceFit||t(this).is("[data-force-fit]"))&&t(this).addClass("tms-forcefit")}),H&&(c.autoPlay=!1,c.useVideoAPI=!1),c.fullscreen&&(v.css({top:0,left:0}).addClass("tms-fullscreen"),c.carouselVisible=1),c.captionScaling||v.addClass("tms-caption-no-scaling"),!c.carousel&&c.carouselVisible&&(c.carouselVisible=1),c.carouselVisible>1&&(c.animation="slide"),c.carousel&&v.addClass("tms-carousel"),c.navArrows&&x.children().length>1){var T=t('<a href="#" />').attr("id","tms-prev").addClass("tms-arrow-nav").appendTo(v),z=t('<a href="#" />').attr("id","tms-next").addClass("tms-arrow-nav").appendTo(v);T.each(function(){t(this).on("click",function(t){t.preventDefault(),c.autoAdvance&&v.data("loaded")&&g.resetSlideshow(),g.prevSlide()})}),z.each(function(){t(this).on("click",function(t){t.preventDefault(),c.autoAdvance&&v.data("loaded")&&g.resetSlideshow(),g.nextSlide()})}),c.lazyLoad&&v.find(".tms-arrow-nav").css({display:"block"})}if(c.navPagination&&x.children().length>1){for(var C=t("<div>").addClass("tms-pagination").appendTo(v),A=1;A<x.children().length+1;A++)v.find(C).append('<a href="#" id="tms-pagination-'+A+'" data-index="'+A+'" class="tms-bullet-nav" />');var O=v.find("bullets"===c.paginationType?".tms-bullet-nav":".tms-thumb-nav");O.each(function(){t(this).on("click",function(){return w=v.find("li.active"),t(this).hasClass("active")?!1:(c.autoAdvance&&v.data("loaded")&&g.resetSlideshow(),parseFloat(t(this).data("index"))>parseFloat(C.find(".active").data("index"))?g.slideTo(t(this).data("index"),"next"):g.slideTo(t(this).data("index"),"prev"),!1)})}),C.find(".tms-bullet-nav:first-child").addClass("active"),c.lazyLoad&&C.css({display:"block"})}if(c.navShowOnHover&&v.addClass("show-on-hover"),c.navKeyboard&&x.children().length>1){var P=[];t(a).on("keydown",function(t){return P[t.keyCode]=!0,P[37]&&P[39]?!1:(P[37]?(c.autoAdvance&&v.data("loaded")&&g.resetSlideshow(),c.lazyLoad?g.prevSlide():v.data("loaded")&&g.prevSlide()):P[39]&&(c.autoAdvance&&v.data("loaded")&&g.resetSlideshow(),c.lazyLoad?g.nextSlide():v.data("loaded")&&g.nextSlide()),i)}).on("keyup",function(t){P[t.keyCode]=!1})}v.swipeIt({draggable:!1,onSwipeMove:function(){},onSwipeEnd:function(t){"left"===t?g.prevSlide():g.nextSlide()}}),t(e).on("resize",function(){w=v.find("li.active"),c.carousel&&c.carouselVisible>1?x.children(".tms-slide").each(function(){f(t(this),c)}):f(w,c),c.carouselScaleHeight&&v.css("height","auto"),p(v,c)}),c.onSetup&&c.onSetup(),v.data("setup",!0);var I,M,E,k,B,D,L,W=null,Q=null;g.initSlideshow=function(){return I||x.children().length<2?!1:(c.autoAdvance=!0,!H&&c.pauseOnHover&&(x.on("mouseleave ",g.resumeSlideshow),x.on("mouseenter ",g.pauseSlideshow)),c.showProgressBar&&(L=t("<div>").addClass("tms-progress-bar").appendTo(v)),g.startSlideshow(),R(c.interval),M=(new Date).getTime(),B=c.interval,c.onSlideshowStart&&c.onSlideshowStart(),i)},g.startSlideshow=function(t){t=t?k:c.interval,I=setInterval(function(){t!==c.interval&&(clearInterval(I),t=c.interval,B=c.interval,g.startSlideshow()),M=(new Date).getTime(),i!==L&&L.css({transition:"none",width:"0px"}),R(c.interval),g.nextSlide()},t)},g.pauseSlideshow=function(){return D||!I?!1:(clearInterval(I),E=(new Date).getTime(),k=50>B-(E-M)?50:B-(E-M),B=0===B?c.interval:k,i!==L&&L.stop().css({width:L.width()+"px"}),D=!0,c.onSlideshowPause&&c.onSlideshowPause(),i)},g.resumeSlideshow=function(){return D?(clearInterval(I),v.data("ssPaused",!1),M=(new Date).getTime(),R(k),g.startSlideshow(k),D=!1,i):!1},g.resetSlideshow=function(){return I?(clearInterval(I),i!==L&&L.css({transition:"none",width:"0px"}),R(c.interval),M=(new Date).getTime(),k=c.interval,B=c.interval,g.startSlideshow(c.interval),i):!1},g.endSlideshow=function(){return I?(clearInterval(I),I="",D=!1,!H&&c.pauseOnHover&&(x.off("mouseleave ",g.resumeSlideshow),x.off("mouseenter ",g.pauseSlideshow)),i!==L&&L.remove(),c.onSlideshowEnd&&c.onSlideshowEnd(),i):!1};var R=function(t){return i===L?!1:(F?(clearTimeout(W),W=setTimeout(function(){L.css({transitionProperty:"width",width:"100%",transitionDuration:t+"ms",transitionTimingFunction:"ease"})},50)):L.stop(!0,!0).animate({width:"100%"},t),i)};g.nextSlide=function(){if(v.data("transitioning"))return!1;var a;w=v.find("li.active");var e=S[t.inArray(w.attr("id"),S)+1];if(a=t.inArray(e,S)+1===0?1:t.inArray(e,S)+1,c.carousel&&c.carouselVisible>1){var i=h(v,c);1!==i&&(a=a===x.children().length-(i-2)?1:t.inArray(e,S)+1)}this.slideTo(a,"next")},g.prevSlide=function(){if(v.data("transitioning"))return!1;var a;w=v.find("li.active");var e=S[t.inArray(w.attr("id"),S)-1];if(a=t.inArray(e,S)+1===0?x.children().length:t.inArray(e,S)+1,c.carousel&&c.carouselVisible>1){var i=h(v,c);a=a===x.children().length?x.children().length-(i-1):t.inArray(e,S)+1}this.slideTo(a,"prev")},g.slideTo=function(a,e){if(e||(w=v.find("li.active")),v.data("transitioning")||a===t.inArray(w.attr("id"),S)+1)return!1;u(v,a);var i=v.width(),n="slide"===c.animation?i:0;n*=c.carousel?a-1:1;var s=v.find("#tms-slide-"+a);s.addClass("target").css({zIndex:2,opacity:0===n?0:1}),w.css({zIndex:1}),m(s,c),s.children("img").data("loaded")&&f(s,c),p(v,c),e||(e="next"),e=c.carousel?1:"next"===e?1:-1;var r=h(v,c);F?c.carousel?d(x,1,-(n/r)*e,0,0,0,0,0,1,c.speed,0,V[c.easing],c):(s.css({transition:"none",transform:"translate3d("+n*e+"px, 0, 0)"}),clearTimeout(Q),Q=setTimeout(function(){d(w,1,-n*e,0,0,0,0,0,1,c.speed,0,V[c.easing],c),d(s,1,0,0,0,0,0,0,1,c.speed,0,V[c.easing],c)},50)):c.carousel?(v.data("transitioning",!0),x.animate({opacity:1,left:-(n/r)*e+"px"},c.speed,c.easing,function(){l(v,c)})):(v.data("transitioning",!0),s.css({left:i*e+"px",visibility:"visible"}).animate({opacity:1,left:"0px"},c.speed,c.easing,function(){l(v,c)}),w.animate({left:-i*e+"px"},c.speed,c.easing))},s(v,c,g)},d=function(a,e,i,n,s,r,o,d,c,u,h,p,f){var v=a.closest(".tm-slider-container");(a.hasClass("active")||a.hasClass("target")||a.hasClass("tms-slides"))&&(v.data("transitioning",!0),f.onSlideBefore&&f.onSlideBefore());var m={};m.transform="translate3d("+i+"px, "+n+"px, "+s+"px)rotate3d( 1, 0, 0, "+r+"deg)rotate3d( 0, 1, 0, "+o+"deg)rotate3d( 0, 0, 1, "+d+"deg)scale3d("+c+", "+c+", "+c+")",m.transitionProperty=O+", opacity",m.transitionDuration=u+"ms",m.transitionDelay=h+"ms",m.transitionTimingFunction=p,m.visibility="visible",m.opacity=e,a.css(m).on(P,function(a){a.stopPropagation(),t(this).off(P),(t(this).hasClass("target")||t(this).hasClass("tms-slides"))&&l(v,f),t(this).hasClass("tms-caption")&&t(this).css({transition:""})})},l=function(t,a){t.data("transitioning",!1),a.onSlideAfter&&a.onSlideAfter();var e=t.find("li.active"),n=t.find("li.target");return g(e,"pause",a),1===a.carouselVisible&&e.find(".tms-caption").not(".no-transition").css({display:"none",visibility:"hidden"}),a.carousel||e.css({visibility:"hidden"}),e.removeClass("active"),n.removeClass("target").addClass("active"),e=n,g(e,"play",a),a.carouselVisible>1?!1:(c(e,a),i)},c=function(a,e){a.find(".tms-caption").not(".no-transition").show().each(function(){var a=t(this),i=t(this).data("du")?a.data("du"):e.speed,n=t(this).data("de")?a.data("de"):0,s=t(this).data("e")?V[a.data("e")]:V[e.easing],r=null;F?(clearTimeout(r),r=setTimeout(function(){d(a,1,0,0,0,0,0,0,1,i,n,s)},500)):(s=a.data("e")?a.data("e"):e.easing,a.delay(n).css({visibility:"visible"}).animate({opacity:1},i,s))})},u=function(t,a){var e=t.find(".tms-pagination");e.find(".active").removeClass("active"),e.find("#tms-pagination-"+a).addClass("active")},h=function(a,i){var n;return n=t(e).width()<768||t(e).width()>959||i.carouselVisible<=3?t(e).width()<480||t(e).width()>767||i.carouselVisible<=2?t(e).width()>479?i.carouselVisible:1:2:3},p=function(a,e){if(!e.carousel)return!1;var i,n,s=a.find(".tms-slides"),r=a.find("li.active"),o=r.index(),d=a.find(".tms-pagination"),l=s.children().length,c=h(a,e),p=a.width()/c,f=0,v=null;s.css({overflow:"visible"}).children().each(function(a){e.carouselVisible=0===e.carouselVisible?1:e.carouselVisible,1===e.carouselVisible?(t(this).css(F?{width:p+"px",opacity:1,visibility:"visible",transform:"translate3d("+p*a+"px, 0, 0)"}:{width:p+"px",opacity:1,visibility:"visible",left:p*a+"px"}),a++):t(this).css({width:p+"px",opacity:1,visibility:"visible","float":"left",position:"relative"}),f=f>t(this).outerHeight()?f:t(this).outerHeight()}),2===c&&o>s.children().length-2?(i=s.children().length-1,n=!0):3===c&&o>s.children().length-3?(i=s.children().length-2,n=!0):o>s.children().length-c?(i=s.children().length-c+1,n=!0):(i=o,n=!1),d.children().hide().slice(0,s.children().length-c+1).show(),n&&(r.removeClass("active"),s.find("li:nth-child("+i+")").addClass("active"),u(a,i)),e.carouselScaleHeight&&a.css({height:f+"px"}),F?(a.data("transitioning")||s.css({width:p*l+"px",transition:"none",transform:"translate3d("+-(p*i)+"px, 0, 0)"}),clearTimeout(v),v=setTimeout(function(){s.css({transitionProperty:"opacity, "+O,transitionDuration:e.speed+"ms"})},50)):s.css({width:p*l+"px",left:-(p*i)+"px"})},f=function(a,i){var n=a.closest(".tm-slider-container"),s=n.parent().width(),r=n.data("refW"),o=n.data("refH"),d=i.fullscreen?t(e).width()/t(e).height():r/o,l=i.fullscreen||i.fullwidth?t(e).width():s,c=i.fullscreen?t(e).height():i.carousel&&i.carouselVisible>1&&!i.carouselScaleHeight?o:i.fullwidth&&s/d>o?o:s/d,u=l/c;if(n.data("newSW",l),n.data("newSH",c),i.carousel&&i.carouselVisible>1&&i.carouselScaleHeight?n.css({width:Math.round(l)+"px"}):(n.css({width:Math.round(l)+"px",height:c>i.scaleMinHeight||"auto"===i.scaleMinHeight?Math.round(c)+"px":i.scaleMinHeight+"px"}),c=c>i.scaleMinHeight||"auto"===i.scaleMinHeight?c:i.scaleMinHeight,n.data("newSH",c)),!n.data("setup")||i.carousel&&i.carouselVisible>1)return!1;var h=a.is("[data-image]")?"image":"video",p=a.is("[data-video-bkg]")?!0:!1,f=a.is("[data-video-ratio]")?parseFloat(a.data("video-ratio")):1.778;a.find("img, iframe, video, .mejs-container").not(".tms-caption img, .tms-caption iframe, .tms-caption video").each(function(){var e,n,s;"image"===h?(e=t(this).width(),n=t(this).height()):"video"===h&&((!i.respectRatio&&!p||i.fullscreen&&!p)&&a.addClass("tms-video-no-ratio"),p?(e=i.fullwidth?c*f:l,n=i.fullwidth?c:l/f):(e=t(this).attr("width")&&l>t(this).attr("width")?t(this).attr("width"):l,n=e/f)),s=e/n,"image"===h&&i.fullscreen||i.forceFit||t(this).parent().is("[data-force-fit]")||"video"===h&&p?t(this).css(u>s?{width:!i.fullwidth||i.forceFit||t(this).parent().is("[data-force-fit]")?l+"px":"auto",height:Math.round(l/s)+"px",top:Math.round(-((l/s-c)/2))+"px",left:0}:{width:!i.fullwidth||i.forceFit||t(this).parent().is("[data-force-fit]")||p?Math.round(c*s)+"px":"auto",height:c+"px",top:0,left:Math.round(-((c*s-l)/2))+"px"}):"video"===h&&t(this).css({width:Math.floor(e)+"px",height:Math.floor(n)+"px",top:Math.floor((c-n)/2)+"px",left:Math.floor((l-e)/2)+"px"})}),v(a,i)},v=function(a,e){var i=a.closest(".tm-slider-container"),n=i.data("newSW"),s=i.data("newSH"),r=i.data("refW"),o=i.data("refH");a.find(".tms-caption").each(function(){if(!e.captionScaling||e.carouselVisible>1||t(this).is("[data-no-scale]"))return!1;var a=t(this),i=a.data("x"),d=a.data("y"),l=a.data("w"),c=a.data("pt"),u=a.data("pr"),h=a.data("pb"),p=a.data("pl"),f=a.data("mt"),v=a.data("mr"),m=a.data("mb"),g=a.data("ml"),b=a.data("bt"),y=a.data("br"),w=a.data("bb"),x=a.data("bl"),S=a.data("fs"),T=0===a.data("lh")?S:a.data("lh"),z=a.is("[data-offsetx]")?parseFloat(a.data("offsetx")):0,F=a.is("[data-offsety]")?parseFloat(a.data("offsety")):0,C=0>n*(z/r)?n*(z/r):n*(z/r)>z?z:n*(z/r),A=0>s*(F/o)?n*(F/r):n*(F/r)>F?F:s*(F/o);e.fullwidth&&F>A&&0>A&&(A=F);var O;a.find("img, iframe, video").length&&(O=n*(l/r)>l?l:n*(l/r)>n?n:n*(l/r)),a.css(a.find("img").length||a.find("iframe, video").length?{width:O+"px",height:a.children("iframe, video").length?O/1.778+"px":"auto"}:{fontSize:n*(S/r)>S?S:n*(S/r)+"px",lineHeight:n*(T/r)>T?T+"px":n*(T/r)+"px",paddingTop:n*(c/r)>c?c:n*(c/r)+"px",paddingRight:n*(u/r)>u?u:n*(u/r)+"px",paddingBottom:n*(h/r)>h?h:n*(h/r)+"px",paddingLeft:n*(p/r)>p?p:n*(p/r)+"px",marginTop:n*(f/r)>f?f:n*(f/r)+"px",marginRight:n*(v/r)>v?v:n*(v/r)+"px",marginBottom:n*(m/r)>m?m:n*(m/r)+"px",marginLeft:n*(g/r)>g?g:n*(g/r)+"px",borderTopWidth:n*(b/r)>b?b:Math.ceil(n*(b/r))+"px",borderRightWidth:n*(y/r)>y?y:Math.ceil(n*(y/r))+"px",borderBottomWidth:n*(w/r)>w?w:Math.ceil(n*(w/r))+"px",borderLeftWidth:n*(x/r)>x?x:Math.ceil(n*(x/r))+"px",whiteSpace:"nowrap"}),a.css({top:"top"===d?0+A:"bottom"===d?s-a.outerHeight()-A:(s-a.outerHeight())/2+A+"px",left:"left"===i?0+C:"right"===i?n-a.outerWidth()-C:(n-a.outerWidth())/2+C+"px"})})},m=function(a,e){return e.carouselVisible>1?!1:(a.find(".tms-caption").not(".no-transition").each(function(){var a=t(this),e=a.data("o")?parseFloat(a.data("o")):0,i=a.data("tx")?parseFloat(a.data("tx")):0,n=a.data("ty")?parseFloat(a.data("ty")):0,s=a.data("tz")?parseFloat(a.data("tz")):0,r=a.data("rx")?parseFloat(a.data("rx")):0,o=a.data("ry")?parseFloat(a.data("ry")):0,d=a.data("rz")?parseFloat(a.data("rz")):0,l=a.data("s")?parseFloat(a.data("s")):1;a.css(F?{transition:"none",transform:"translate3d("+i+"px, "+n+"px, "+s+"px)rotate3d( 1, 0, 0, "+r+"deg)rotate3d( 0, 1, 0, "+o+"deg)rotate3d( 0, 0, 1, "+d+"deg)scale3d("+l+", "+l+", "+l+")",opacity:e}:{opacity:0})}),i)},g=function(a,e,n){if(!n.useVideoAPI||n.carouselVisible>1)return!1;var s;try{if(a.find("iframe").length){s="#"+a.find("iframe").attr("id");var r=t(s).attr("src");i!==r&&r.indexOf("vimeo")>-1?(s=$f(t(s)[0]),s.api("play"===e&&n.autoPlay?"play":"pause")):i!==r&&r.indexOf("youtu")>-1&&(s=s.replace("#",""),"play"===e&&n.autoPlay?b[s].playVideo():b[s].stopVideo())}else a.find("video").length&&(s="#"+a.find("video").attr("id"),"play"===e&&n.autoPlay?t(s)[0].play():t(s)[0].pause())}catch(o){}},b={},y=!1,w=!1,x=function(n,s){if(!s.useVideoAPI||s.carouselVisible>1)return!1;var r=n.attr("src"),o=new Date;if(n.attr("id","video-"+o.getTime()),i!==r&&r.indexOf("vimeo")>-1){if(n.attr("src",n.attr("src")+"&player_id="+n.attr("id")).addClass("vimeo"),!y){y=!0;var d=a.createElement("script");d.src="http://a.vimeocdn.com/js/froogaloop2.min.js";var l=a.getElementsByTagName("script")[0];l.parentNode.insertBefore(d,l)}n.on("load",function(){var a="#"+t(this).attr("id"),e=$f(t(a)[0]),i=t(this).closest("li").is(":first-child")?!0:!1;e.addEvent("ready",function(){i&&s.autoPlay&&e.api("play"),e.addEvent("finish",function(){s.replayOnEnd&&e.api("play")})})})}else if(i!==r&&r.indexOf("youtu")>-1){if(n.addClass("youtube"),!w){w=!0;var c=a.createElement("script");c.src="http://www.youtube.com/player_api";var u=a.getElementsByTagName("script")[0];u.parentNode.insertBefore(c,u)}var h=function(){t(".youtube").each(function(){var a=t(this).attr("id"),e=t(this).closest("li").is(":first-child")?!0:!1;b[a]=new YT.Player(a,{events:{onStateChange:function(t){t.data===YT.PlayerState.ENDED&&s.replayOnEnd&&b[a].playVideo()},onReady:function(){e&&s.autoPlay&&b[a].playVideo()}}})})};e.onYouTubePlayerAPIReady=function(){h()}}else if(n.is("video")){var p=a.getElementById(n.attr("id")),f=n.closest("li").is(":first-child")?!0:!1;f&&s.autoPlay&&(p.load(),p.autoplay=!0),n.parent().is("[data-video-bkg]")&&(p.muted=s.muteBkgVideo),s.replayOnEnd&&(p.loop=!0)}};e.isRetinaDevice=function(){var t="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return this.devicePixelRatio>1||this.matchMedia&&this.matchMedia(t).matches?!0:!1};var S,T=a.body||a.documentElement,z=T.style,F=z.transition!==i||z.WebkitTransition!==i||z.MozTransition!==i||z.MsTransition!==i||z.OTransition!==i,C=["WebkitTransform","MozTransform","OTransform","msTransform"];for(var A in C)z[C[A]]!==i&&(S="-"+C[A].replace("Transform","").toLowerCase());var O=S+"-transform",P="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",V={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.42, 0, 0.58, 1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},H=!1;(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(H=!0),t.fn.avalancheSlider=function(a){return this.each(function(){var e=t(this);if(!e.data("avalancheSlider")){var i=new o(this,a);e.data("avalancheSlider",i)}})},t.fn.avalancheSlider.tmsOpts={animation:"slide",easing:"easeInOutQuint",speed:700,navArrows:!0,navPagination:!0,navShowOnHover:!0,paginationType:"bullets",navKeyboard:!0,forceFit:!1,fullwidth:!1,fullscreen:!1,scaleUnder:1140,scaleMinHeight:214,captionScaling:!0,carousel:!1,carouselVisible:1,carouselScaleHeight:!1,autoAdvance:!0,showProgressBar:!0,interval:6e3,pauseOnHover:!0,useVideoAPI:!0,autoPlay:!0,replayOnEnd:!0,respectRatio:!0,muteBkgVideo:!1,lazyLoad:!0,retinaSupport:!0,retinaSupportMobile:!1,retinaSuffix:"@2x",onSetup:null,onLoadEnd:null,onSlideBefore:null,onSlideAfter:null,onSlideshowStart:null,onSlideshowPause:null,onSlideshowEnd:null}}(jQuery,document,window);