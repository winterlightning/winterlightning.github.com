/**
*	Horizon
*	Version: 1.0
*	URL: @ThemeMountain
*	Description: Reveal Plugin
*	Requires: jQuery 1.10+
*	Author: ThemeMountain
*	Copyright: Copyright 2013 ThemeMountain
*	License: Attribution-NonCommercial 3.0 (http://creativecommons.org/licenses/by-nc/3.0/)
*/
!function(e,a,t,i){"use strict";var r,n=function(a,i){var r=e.extend({},e.fn.horizon.tmhOpts,i);if(a=e(a),z)return a.css({opacity:1,visibility:"visible"}),!1;a.data("scrolling",!1).css("-webkit-backface-visibility","hidden");var n=(a.data("animate-in")+"").split(";");e.each(n,function(e,t){t=t.split(":");var i=t[0],r=t[1];"opacity"===i&&a.data("o",r),"scale"===i&&a.data("s",r),"easing"===i&&a.data("e",r),"transX"===i&&a.data("tx",parseFloat(r)),"transY"===i&&a.data("ty",parseFloat(r)),"transZ"===i&&a.data("tz",parseFloat(r)),"rotateX"===i&&a.data("rx",parseFloat(r)),"rotateY"===i&&a.data("ry",parseFloat(r)),"rotateZ"===i&&a.data("rz",parseFloat(r)),"duration"===i&&a.data("du",parseFloat(r)),"delay"===i&&a.data("de",parseFloat(r))}),e(t).on("scroll",function(){o(a,r)}),l(a,r),o(a,r)},o=function(e,a){e.data("scrolling")||(requestAnimationFrame(function(){s(e,a)}),e.data("scrolling",!0))},s=function(e,a){if(c(e,a)){var t=e.data("du")?e.data("du"):a.speed,i=e.data("de")?e.data("de"):0,r=e.data("e")?g[e.data("e")]:g[a.easing];h?u(e,1,0,0,0,0,0,0,1,t,i,r,a):e.css({visibility:"visible"}).stop().animate({opacity:1},a.speed,a.easing,function(){a.inView&&a.inView()})}e.data("scrolling",!1)},c=function(a,i){var r=e(t).scrollTop(),n=r+e(t).height(),o=a.data("ty")?parseFloat(a.data("ty")):0,s=a.offset().top,c=a.offset().top-o,u=c+a.outerHeight()-a.outerHeight()*i.threshold,d=c+a.outerHeight()*i.threshold;return(s-r>e(t).height()||s-r<-a.outerHeight())&&(i.recurring&&l(a,i),i.outOfView&&i.outOfView()),n>=d&&u>=r},l=function(e){var a=e.data("o")?parseFloat(e.data("o")):0,t=e.data("tx")?parseFloat(e.data("tx")):0,i=e.data("ty")?parseFloat(e.data("ty")):0,r=e.data("tz")?parseFloat(e.data("tz")):0,n=e.data("rx")?parseFloat(e.data("rx")):0,o=e.data("ry")?parseFloat(e.data("ry")):0,s=e.data("rz")?parseFloat(e.data("rz")):0,c=e.data("s")?parseFloat(e.data("s")):1;e.css(h?{transition:"none",transform:"translate3d("+t+"px, "+i+"px, "+r+"px)rotate3d( 1, 0, 0, "+n+"deg )rotate3d( 0, 1, 0, "+o+"deg )rotate3d( 0, 0, 1, "+s+"deg )scale3d("+c+", "+c+", "+c+")",opacity:a,visibility:"hidden"}:{opacity:0})},u=function(a,t,i,r,n,o,s,c,l,u,d,p,h){var b={};b.transform="translate3d("+i+"px, "+r+"px, "+n+"px)rotate3d( 1, 0, 0, "+o+"deg)rotate3d( 0, 1, 0, "+s+"deg)rotate3d( 0, 0, 1, "+c+"deg)scale3d("+l+", "+l+", "+l+")",b.transitionProperty=m+", opacity",b.transitionDuration=u+"ms",b.transitionDelay=d+"ms",b.transitionTimingFunction=p,b.visibility="visible",b.opacity=t,a.css(b).on(v,function(a){a.stopPropagation(),e(this).off(v),h.inView&&h.inView()})},d=a.body||a.documentElement,p=d.style,h=p.transition!==i||p.WebkitTransition!==i||p.MozTransition!==i||p.MsTransition!==i||p.OTransition!==i,b=["WebkitTransform","MozTransform","OTransform","msTransform"];for(var f in b)p[b[f]]!==i&&(r="-"+b[f].replace("Transform","").toLowerCase());var m=r+"-transform",v="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",g={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.42, 0, 0.58, 1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},z=!1;(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(z=!0),function(){for(var e=0,a=["ms","moz","webkit","o"],i=0;i<a.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[a[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[a[i]+"CancelAnimationFrame"]||t[a[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(a){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),n=t.setTimeout(function(){a(i+r)},r);return e=i+r,n}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){clearTimeout(e)})}(),e.fn.horizon=function(a){return this.each(function(){var t=e(this);if(!t.data("horizon")){var i=new n(this,a);t.data("horizon",i)}})},e.fn.horizon.tmhOpts={easing:"swing",speed:500,threshold:1,recurring:!0,inView:null,outOfView:null}}(jQuery,document,window);